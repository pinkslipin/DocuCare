{% extends 'base.html' %}
{% load static %}
{% block title %}Edit Doctor Profile{% endblock %}

{% block content %}
<div class="main-content">
    <h1>Doctor Profile</h1>

    <!-- Success and Error Messages -->
    {% if messages %}
        {% for message in messages %}
            <div class="alert {% if message.tags %}alert-{{ message.tags }}{% endif %}">{{ message }}</div>
        {% endfor %}
    {% endif %}

    <!-- Edit Doctor Profile Form -->
    <div class="form-container">
        <h2>Edit Your Profile</h2>
        <form method="post">
            {% csrf_token %}
            
            <label for="{{ doctor_form.name.id_for_label }}">Name:</label>
            <div class="input-field">
                {{ doctor_form.name }}
            </div>
            {% if doctor_form.name.errors %}
                <div class="error">{{ doctor_form.name.errors }}</div>
            {% endif %}

            <label for="{{ user_form.username.id_for_label }}">Username:</label>
            <div class="input-field">
                {{ user_form.username }}
            </div>
            {% if user_form.username.errors %}
                <div class="error">{{ user_form.username.errors }}</div>
            {% endif %}

            <label for="{{ user_form.email.id_for_label }}">Email:</label>
            <div class="input-field">
                {{ user_form.email }}
            </div>
            {% if user_form.email.errors %}
                <div class="error">{{ user_form.email.errors }}</div>
            {% endif %}

            <label for="{{ doctor_form.specialization.id_for_label }}">Specialization:</label>
            <div class="input-field">
                {{ doctor_form.specialization }}
            </div>
            {% if doctor_form.specialization.errors %}
                <div class="error">{{ doctor_form.specialization.errors }}</div>
            {% endif %}

            <label for="{{ doctor_form.contact_info.id_for_label }}">Contact Info:</label>
            <div class="input-field">
                {{ doctor_form.contact_info }}
            </div>
            {% if doctor_form.contact_info.errors %}
                <div class="error">{{ doctor_form.contact_info.errors }}</div>
            {% endif %}

            <label for="{{ user_form.password.id_for_label }}">Password:</label>
            <div class="input-field">
                {{ user_form.password }}
            </div>
            {% if user_form.password.errors %}
                <div class="error">{{ user_form.password.errors }}</div>
            {% endif %}

            <label for="{{ user_form.password_confirmation.id_for_label }}">Password confirmation:</label>
            <div class="input-field">
                {{ user_form.password_confirmation }}
            </div>
            {% if user_form.password_confirmation.errors %}
                <div class="error">{{ user_form.password_confirmation.errors }}</div>
            {% endif %}

            <button type="submit" class="btn-primary">Save Changes</button>
            <a class="btn btn-secondary" href="{% url 'view_own_doctor_profile' %}">Cancel</a>
        </form>
    </div>
</div>
{% endblock %}